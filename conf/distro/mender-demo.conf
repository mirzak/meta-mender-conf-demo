require conf/distro/poky.conf

DISTRO = "mender-demo"
DISTRO_NAME = "Mender Conference Demo"

MAINTAINER = "Mirza Krak <mirza.krak@northern.tech>"

PACKAGE_CLASSES = "package_ipk"

INHERIT += "rm_work"

IMAGE_FEATURES_append = " ssh-server-dropbear"

LICENSE_FLAGS_WHITELIST = "commercial"

# Remove conflicting backends.
DISTRO_FEATURES_remove = "wayland"

# Make sure x11 is in there
DISTRO_FEATURES_append = " x11"

IMAGE_INSTALL_append = " mpv vlc image-display"

########################### Artifact Size ######################################

# Explicitly set this to zero as it might sneak in depending on what we include.
IMAGE_ROOTFS_EXTRA_SPACE = "0"

# If we set this to zero we rely completely on IMAGE_OVERHEAD_FACTOR.
IMAGE_ROOTFS_SIZE = "0"

# This will make sure that we a relative amount of extra free space on rootfs.
# 1.5 means that we will have 50 % extra free space added.
IMAGE_OVERHEAD_FACTOR = "1.3"

########################### Raspberry Pi #######################################

MENDER_STORAGE_TOTAL_SIZE_MB_DEFAULT_raspberrypi3 = "2048"

IMAGE_FSTYPES_raspberrypi3 += "sdimg.gz"

ENABLE_UART_raspberrypi3 = "1"

